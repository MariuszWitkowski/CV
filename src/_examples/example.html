<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your CV</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.7.7/handlebars.min.js"></script>
</head>
<body>
    <div id="cv">
        <!-- Data will be dynamically inserted here -->
    </div>

    <script id="cv-template" type="text/x-handlebars-template">
        <h1>{{name}}</h1>
        <p>Email: {{email}}</p>
        <p>Phone: {{phone}}</p>
        
        <h2>Objective:</h2>
        <p>{{objective}}</p>
        
        <h2>Summary of Qualifications:</h2>
        <ul>
            {{#each qualifications}}
                <li>{{this}}</li>
            {{/each}}
        </ul>
        
        <h2>Professional Experience:</h2>
        {{#each experience}}
            <h3>{{title}}, {{company}}, {{location}}, {{dates}}</h3>
            <ul>
                {{#each responsibilities}}
                    <li>{{this}}</li>
                {{/each}}
            </ul>
        {{/each}}
        
        <h2>Education:</h2>
        <p>{{education.degree}}, {{education.university}}, {{education.graduationDate}}</p>
        
        <h2>Skills:</h2>
        <ul>
            {{#each skills}}
                <li>{{this}}</li>
            {{/each}}
        </ul>
        
        <h2>Certifications:</h2>
        <ul>
            {{#each certifications}}
                <li>{{this}}</li>
            {{/each}}
        </ul>
        
        <h2>References:</h2>
        <p>Available upon request.</p>
    </script>

    <script>
        // Load the Handlebars template and data from the JSON file
        fetch('cvData.json')
            .then(response => response.json())
            .then(data => {
                const source = document.getElementById('cv-template').innerHTML;
                const template = Handlebars.compile(source);
                const html = template(data);

                document.getElementById('cv').innerHTML = html;
            })
            .catch(error => console.error(error));
    </script>
</body>
</html>
